{"remainingRequest":"/Users/kristinhortsch/dev/TwitchFeed/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kristinhortsch/dev/TwitchFeed/app/src/components/App.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/kristinhortsch/dev/TwitchFeed/app/src/components/App.vue","mtime":1545159630394},{"path":"/Users/kristinhortsch/dev/TwitchFeed/app/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/kristinhortsch/dev/TwitchFeed/app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/kristinhortsch/dev/TwitchFeed/app/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/kristinhortsch/dev/TwitchFeed/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kristinhortsch/dev/TwitchFeed/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nnav {\n  display: flex;\n  justify-content: space-around;\n  background-color: purple;\n  padding: 2vh;\n}\nnav a {\n  color: white;\n  text-decoration: none;\n  font-weight: bold;\n  font-size: 3vh;\n}\nnav a:hover {\n  color: yellow;\n  text-decoration: underline;\n}\nbody {\n  margin: 0;\n}\n\n",{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src/components","sourcesContent":["<template>\n <div id=\"app\">\n  <header> \n    <nav v-if=\"user\">\n     <RouterLink to=\"/\">Home</RouterLink>\n     <RouterLink to=\"/favorites\">Favorites</RouterLink>\n     <RouterLink to=\"/search\">Search</RouterLink>\n     <RouterLink to=\"/ratings\">Ratings</RouterLink>\n     <RouterLink to=\"/about\">About Us</RouterLink>\n     <a href=\"#\" @click=\"handleLogout\">Logout</a>\n   </nav>\n    <span id=\"user\" v-if=\"user\"> \n      Hello {{user.username}}!\n    </span>\n  </header>\n  <main>\n    <!--Need to add in user v-if in RouterLink and Auth-->\n    <RouterView v-if=\"user\" :user=\"user\"></RouterView>\n     <Auth v-else\n        :onSignUp=\"handleSignUp\"\n        :onSignIn=\"handleSignIn\"\n      />\n  </main>\n </div>\n</template>\n\n<script>\nimport api from '../services/api';\nimport Auth from './auth/Auth'; \nexport default {\n  data() {\n    return {\n      user:null\n    };\n  },\n  components: {\n    Auth\n  },\n  created() {\n    const json = window.localStorage.getItem('profile');\n    if(json) {\n      this.setUser(JSON.parse(json));\n    }\n  },\n  methods: {\n    handleSignUp(profile) {\n      console.log('giggles', profile);\n      return api.signUp(profile)\n        .then(user => {\n          this.setUser(user);\n        });\n    },\n    handleSignIn(credentials) {\n      console.log('cred', credentials);\n      return api.signIn(credentials)\n        .then(user => {\n          console.log(user);\n          this.setUser(user);\n        });\n    },\n    setUser(user) {\n      this.user = user;\n      console.log('set user', user);\n      if(user) {\n        api.setToken(user.token);\n        window.localStorage.setItem('profile', JSON.stringify(user));                                     \n      }\n      else {\n        api.setToken();\n        window.localStorage.removeItem('profile');\n      }\n    },\n    handleLogout() {\n      this.setUser(null);\n      this.$router.push('/');\n    }\n  }\n};\n\n</script>\n\n<style>\nnav {\n  display: flex;\n  justify-content: space-around;\n  background-color: purple;\n  padding: 2vh;\n}\nnav a {\n  color: white;\n  text-decoration: none;\n  font-weight: bold;\n  font-size: 3vh;\n}\nnav a:hover {\n  color: yellow;\n  text-decoration: underline;\n}\nbody {\n  margin: 0;\n}\n\n</style>"]}]}